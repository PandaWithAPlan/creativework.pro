# dev-process.md

Версия: 1.2
Дата: 2025-12-01
Статус: активная разработка (ветки `feature/phase3-content` + `feature/phase4-interactions`)

## 1. Контекст проекта

Creative Work Pro Hub / creativework.pro — статический сайт на Apache (HTML5 + CSS3 + Vanilla JS + лёгкий PHP для форм), который реализует трёхуровневую гибридную модель (Community Hub, Services &amp; Tools, Innovation Lab) и служит входной точкой в экосистему.

Фазы 0–3 закрывают анализ, структуру, каркас страниц и основной контент. Фаза 4 посвящена интерактивности, микро-UX и доведению ключевых сценариев до комфортного для пользователя состояния (без глубокого backend).

## 5. План Фазы 4 (интерактив, микро-UX и JS)

4.1 Hero и Three Pillars (контент + визуальная иерархия)
- Финализировать текст в hero-блоке на главной по Content PDF (обещание ценности, целевая аудитория, связь с тремя уровнями).
- Заполнить секцию `#pillars` тремя карточками уровней (Community Hub / Services &amp; Tools / Innovation Lab) с краткими тезисами и визуальными акцентами.

4.2 Улучшения навигации и header/footer
- Проверить активные состояния ссылок меню на всех страницах.
- Добавить плавный скролл для внутренних якорей (hero → pricing, CTA → формы и т.п.).

4.3 Pricing toggle и состояние карточек тарифов
- Реализовать JS-логику переключателя `.pricing-toggle` (monthly/yearly) на главной: обновление отмеченного состояния кнопок и отображаемых значений.
- При необходимости скорректировать описание цен в карточках, чтобы месячные и годовые значения были явно разделены визуально.

4.4 Формы и сообщения пользователю
- Расширить `forms.js`, чтобы обрабатывать отправку `#newsletter-form` и `#consulting-form` (валидация на фронте, пользовательские сообщения об успехе/ошибке).
- Добавить простые текстовые статусы под формами вместо alert-окна, сохранив alert только как fallback.

4.5 Микро-анимации и scroll-эффекты
- Подключить существующие CSS-анимации и `scroll-animation.js` к ключевым блокам (hero, вертикали, кейсы, blog-preview), не перегружая интерфейс.
- Убедиться, что анимации не мешают читаемости и не противоречат требованиям по доступности.

4.6 Улучшения FAQ и юридических страниц
- Проверить work-flow открытия/закрытия вопросов FAQ (на базе `<details>`): добавить стили состояний summary и фокус-обводку.
- Легкая типографика для `privacy.html` и `terms.html` (интерлиньяж, отступы, списки) для удобства чтения длинного текста.

4.7 Доступность и мелкие правки
- Проверить наличие `aria-` и `label for` для интерактивных элементов (формы, переключатель тарифов).
- Добавить `:focus`-стили для ссылок и кнопок, чтобы сайт был удобен при навигации с клавиатуры.

### 2025-12-01 — Старт Фазы 4
- Создана ветка `feature/phase4-interactions` от `feature/phase3-content` для реализации интерактива и микро-UX.
- Зафиксирован план Фазы 4 (пункты 4.1–4.7) с привязкой к существующим блокам: hero/pillars, pricing, формы, FAQ, юридические страницы и общая доступность.

### 2025-12-01 — Фаза 4, шаг 4.1: Hero и Three Pillars
- В hero-блоке главной (`index.html#hero`) заменён placeholder-текст на финализированное обещание ценности: Creative Work Pro Hub как экосистема, в которой ИИ выступает партнёром для творческого профессионала, а не заменой. Текст подчёркивает связку сообщества, сервисов и Innovation Lab и адресован креаторам, которые хотят встроить ИИ в ежедневную практику без потери авторства.
- Секция `#pillars` заполнена тремя карточками (`.pillar-card`), которые раскрывают уровни модели:
  - *Community Hub* — сообщество, практика, библиотека материалов; точка входа и база для роста. CTA ведёт к блоку тарифов на главной.
  - *Services &amp; Tools* — консалтинг, воркшопы и инструменты для команд и студий; акцент на внедрении ИИ в реальные процессы. CTA ведёт к секции консалтинга на странице `services.html`.
  - *Innovation Lab* — R&amp;D-программы, гранты и спонсируемые пилоты; подчёркивается роль экспериментов и кейсов, CTA ссылается на статью о грантах в блоге.
- Формулировки синхронизированы с ТЗ по долям выручки и роли каждого уровня, но в hero/pillars оставлены на уровне пользовательского языка (без финансовых деталей), чтобы не перегружать первый экран.

### 2025-12-01 — Фаза 4, шаг 4.2: Навигация и плавный скролл
- Проверены header-навигации на ключевых страницах: активные классы (`.is-active`) расставлены корректно — `Главная` на `index.html`, `О нас` на `about.html`, `Сервисы` на `services.html`, `Блог` на `blog.html`, `Контакты` на `contact.html`. Страницы FAQ и юридические разделы используют ту же навигацию без отдельного пункта, что соответствует плану.
- В `src/js/main.js` добавлен обработчик кликов по ссылкам-якорям внутри текущей страницы: если `href` начинается с `#` и элемент с таким id существует, скролл до секции выполняется через `scrollIntoView({ behavior: 'smooth' })` с отменой стандартного поведения браузера. Это покрывает сценарии hero → pricing, а также переход к `#home-contact` и другим блокам на главной.
- Логика плавного скролла не вмешивается в переходы на другие страницы (например, `contact.html#contact-forms`), чтобы не ломать стандартную навигацию между страницами.

### 2025-12-01 — Фаза 4, шаг 4.3: Pricing toggle и визуальное разделение тарифов
- В секции `#pricing` на главной (`src/index.html`) переработана вёрстка блока с ценами: для каждого тарифа (`.pricing-price`) добавлены data-атрибуты с конфигурацией для двух режимов — `data-monthly-price/period/note` и `data-yearly-price/period/note`. Это позволяет явно описать, как должны выглядеть цены и подписи в ежемесячном и годовом режимах без жёсткого зашивания текста в JS.
- Кнопки переключателя `.pricing-toggle` приведены к более предсказуемому поведению с точки зрения доступности: добавлен `role="group"` на контейнер, у кнопок указан `type="button"` и атрибут `aria-pressed`, который обновляется при смене режима (активная кнопка помечается `aria-pressed="true"`).
- Стартовое состояние верстки соответствует режиму `Ежемесячно`:
  - Explorer: `$9 /мес`, подпись `или $90/год (2 месяца в подарок)`.
  - Creator: `$29 /мес`, подпись `или $290/год (2 месяца в подарок)`.
  - Innovator: `$79 /мес`, подпись `или $790/год (2 месяца в подарок)`.
- В `src/js/main.js` реализована функция `applyBillingMode(mode)`, которая:
  - Переключает визуальное состояние кнопок переключателя (`.toggle-btn`) по `data-billing` (`monthly` / `yearly`), включая/выключая класс `.is-active` и обновляя `aria-pressed`.
  - Проходит по всем блокам `.pricing-price` и, в зависимости от режима, подставляет в `.price-value`, `.price-period` и `.price-note` значения из соответствующих data-атрибутов (`data-monthly-*` или `data-yearly-*`). Это даёт чёткое визуальное разделение между ежемесячным и годовым режимом без дублирования логики.
- Для инициализации при загрузке страницы режим берётся из кнопки переключателя с классом `.is-active` (по умолчанию `monthly`), что позволяет в будущем менять дефолтный режим без правок в JS.

### 2025-12-01 — Фаза 4, шаг 4.4: Формы и сообщения пользователю
- Проанализированы формы:
  - `index.html#home-contact`: форма подписки на дайджест с `id="newsletter-form"`, полями `email` и `role`, текстовым примечанием `.form-note`.
  - `contact.html#contact-forms`: общая контактная форма `#contact-form` и форма заявки на консалтинг `#consulting-form` с полями `name`, `email`, `message` и дополнительными полями (темы, бюджет, компания).
- В `src/js/forms.js` добавлена универсальная функция `showFormStatus(form, type, message)`, которая:
  - Создаёт или переиспользует элемент `.form-status` внутри формы, размещая его перед `.form-note` (если есть) либо в конце формы.
  - Задаёт `aria-live="polite"` для корректного озвучивания скринридерами.
  - Переключает модификаторы `form-status--success` / `form-status--error` в зависимости от типа сообщения.
- Для `#newsletter-form` реализован отдельный обработчик `submit`, который:
  - Отменяет стандартную отправку, валидирует email (через вспомогательную функцию `isValidEmail`).
  - При ошибке показывает inline-сообщение об ошибке и фокусирует поле email.
  - При успехе показывает сообщение об успешной подписке и сбрасывает форму. Реальной отправки на backend пока нет — это осознанный выбор на Фазе 4 (фронтовая часть UX).
- Для `#contact-form` и `#consulting-form` добавлен общий хэндлер через `attachContactHandler(formId)`, который:
  - Собирает `name`, `email`, `message` через `FormData`, проверяет, что они заполнены и email валиден.
  - В случае ошибки показывает inline-статус с пояснением; дополнительно предусмотрен `alert` как fallback, если по какой-то причине `.form-status` не был создан.
  - В случае успеха имитирует успешную отправку: выводит позитивное сообщение (`Мы свяжемся с вами в течение 24 часов (CET)`) и сбрасывает форму.
- Старый демонстрационный хэндлер с `alert('Это тестовая отправка формы...')` заменён на новый сценарий с inline-статусами, более соответствующий ожидаемому UX (без навязчивых всплывающих окон).
